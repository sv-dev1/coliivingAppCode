{"version":3,"sources":["webpack:///./src/app/pages/chatroom/chatroom.module.ts","webpack:///./src/app/pages/chatroom/chatroom.page.html","webpack:///./src/app/pages/chatroom/chatroom.page.scss","webpack:///./src/app/pages/chatroom/chatroom.page.ts"],"names":[],"mappings":"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","file":"pages-chatroom-chatroom-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\n import { IonicModule } from '@ionic/angular';\n\nimport { ChatroomPage } from './chatroom.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatroomPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ChatroomPage],\n // entryComponents: [PopoverComponent]\n\n})\nexport class ChatroomPageModule {}\n","module.exports = \"<ion-header>\\r\\n   <ion-toolbar>\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n         <ion-back-button (click)=\\\"ionViewWillLeave()\\\" defaultHref=\\\"userlist\\\"></ion-back-button>\\r\\n      </ion-buttons>\\r\\n      <ion-buttons slot=\\\"end\\\">\\r\\n         <ion-icon name=\\\"more\\\"></ion-icon>\\r\\n      </ion-buttons>\\r\\n      <ion-title>\\r\\n         Chatroom: {{nickname}}\\r\\n      </ion-title>\\r\\n   </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content id=\\\"content\\\" #content class=\\\"scroll-content ionic-scroll  has-header\\\">\\r\\n   <ion-grid class=\\\"scroll\\\" style=\\\"-webkit-transform: translate3d(0px, -50px, 0px) scale(1); margin-top: 50px;\\\">\\r\\n      <ion-row *ngFor=\\\"let message of gruopMessages; let i = index\\\">\\r\\n         <div *ngIf=\\\"isDifferentDay(i)\\\">\\r\\n            <ion-badge class=\\\"chat-date\\\">{{getMessageDate(i)}}</ion-badge>\\r\\n         </div>\\r\\n         <ion-col  class=\\\"message\\\">\\r\\n            <ion-item style=\\\"--inner-border-width:0px!important;\\\">\\r\\n               <span *ngIf=\\\"userId === message.from_id\\\" slot=\\\"end\\\" class=\\\"user_name\\\" style=\\\"border-radius: 10px;background: #e5efc2; padding: 10px;color: #000;word-wrap: break-word;margin-top: 20px;\\\">\\r\\n                  <span class=\\\"chatname\\\"> You</span><br>\\r\\n                  {{ message.message }} <br><span class=\\\"timeFormat\\\"> {{timeFormat(message.created_at)}} </span>\\r\\n                  <ion-icon name=\\\"done-all\\\" class=\\\"chatDone-icon\\\"></ion-icon>\\r\\n               </span>\\r\\n               <span *ngIf=\\\"userId !== message.from_id\\\" slot=\\\"start\\\" class=\\\"user_name\\\" style=\\\"    border-radius: 10px;background: #f1f1f1;padding: 10px;color: #000;border: 1px solid #dcd8d8;word-wrap: break-word;margin-top: 20px;\\\">\\r\\n               <span class=\\\"chatname\\\"> {{message.username}}</span><br>\\r\\n               {{message.message}}  <br>  <span class=\\\"timeFormat\\\"> {{timeFormat(message.created_at)}} </span>\\r\\n               </span> \\r\\n            </ion-item>\\r\\n         </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row *ngFor=\\\"let message of messages\\\">\\r\\n         <ion-col class=\\\"message\\\" [ngClass]=\\\"{'my_message': message.from !== nickname, 'other_message': message.from !== nickname}\\\">\\r\\n            <ion-item style=\\\"--inner-border-width:0px!important;\\\" >\\r\\n               <span slot=\\\"end\\\" *ngIf=\\\"userId === message.userId\\\" class=\\\"user_name\\\"  style=\\\"border-radius: 10px;background: #e5efc2; padding: 10px;color: #000;word-wrap: break-word;\\\">\\r\\n               {{ message.message }}<br><span class=\\\"timeFormat\\\"> {{timeFormat(message.created_at)}} </span>  \\r\\n               <span >\\r\\n                  <ion-icon name=\\\"checkmark\\\" class=\\\"chatDone-icon\\\" *ngIf=\\\"disableClick\\\"></ion-icon>\\r\\n               </span></span>\\r\\n               <span slot=\\\"start\\\" *ngIf=\\\"teamId === message.from && userId !== message.userId\\\" class=\\\"user_name\\\"  style=\\\"    border-radius: 10px;background: #f1f1f1;padding: 10px;color: #000;border: 1px solid #dcd8d8; word-wrap: break-word;\\\">{{message.username}}: \\r\\n               {{message.message}}  <br> <span class=\\\"timeFormat\\\"> {{timeFormat(message.created_at)}} </span> </span> \\r\\n            </ion-item>\\r\\n         </ion-col>\\r\\n      </ion-row>\\r\\n   </ion-grid>\\r\\n</ion-content>\\r\\n<ion-footer>\\r\\n   <ion-toolbar>\\r\\n      <ion-row class=\\\"message_row\\\">\\r\\n         <ion-col col-11>\\r\\n            <ion-item no-lines>\\r\\n               <ion-input type=\\\"text\\\" placeholder=\\\"Message\\\" [(ngModel)]=\\\"message\\\"></ion-input>\\r\\n            </ion-item>\\r\\n         </ion-col>\\r\\n         <ion-col col-1>\\r\\n            <button class=\\\"submit-btn\\\" expand=\\\"block\\\" type=\\\"submit\\\" (click)=\\\"sendMessage()\\\" [disabled]=\\\"message === ''\\\" style=\\\"    background: #ed502d;;padding: 15px 20px;color: #fff;width: 100%;border-radius: 5px;\\\">\\r\\n            Send\\r\\n            </button> \\r\\n         </ion-col>\\r\\n      </ion-row>\\r\\n   </ion-toolbar>\\r\\n</ion-footer>\"","module.exports = \"app-chatroom .user_name {\\n  color: #afafaf; }\\n\\napp-chatroom .message {\\n  padding: 10px !important;\\n  transition: all 250ms ease-in-out !important;\\n  border-radius: 10px !important;\\n  margin-bottom: 4px !important; }\\n\\napp-chatroom .my_message {\\n  color: #000 !important; }\\n\\napp-chatroom .other_message {\\n  background: #dcdcdc !important;\\n  color: #000 !important; }\\n\\napp-chatroom .time {\\n  color: #afafaf;\\n  float: right;\\n  font-size: small; }\\n\\napp-chatroom .message_row {\\n  background-color: #fff; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2hhdHJvb20vRDpcXHJhaW9cXGNvbGl2aW5nQXBwL3NyY1xcYXBwXFxwYWdlc1xcY2hhdHJvb21cXGNoYXRyb29tLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVRLGVBQWMsRUFDakI7O0FBSEw7RUFLUSx5QkFBd0I7RUFDeEIsNkNBQTRDO0VBQzVDLCtCQUE4QjtFQUM5Qiw4QkFBNkIsRUFDaEM7O0FBVEw7RUFXUSx1QkFBc0IsRUFDekI7O0FBWkw7RUFjUSwrQkFBOEI7RUFDOUIsdUJBQXNCLEVBQ3pCOztBQWhCTDtFQWtCUSxlQUFjO0VBQ2QsYUFBWTtFQUNaLGlCQUFnQixFQUNuQjs7QUFyQkw7RUF1QlEsdUJBQXNCLEVBQ3pCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvY2hhdHJvb20vY2hhdHJvb20ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLWNoYXRyb29tIHtcbiAgICAudXNlcl9uYW1lIHtcbiAgICAgICAgY29sb3I6ICNhZmFmYWY7XG4gICAgfVxuICAgIC5tZXNzYWdlIHtcbiAgICAgICAgcGFkZGluZzogMTBweCAhaW1wb3J0YW50O1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMjUwbXMgZWFzZS1pbi1vdXQgIWltcG9ydGFudDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweCAhaW1wb3J0YW50O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA0cHggIWltcG9ydGFudDtcbiAgICB9XG4gICAgLm15X21lc3NhZ2Uge1xuICAgICAgICBjb2xvcjogIzAwMCAhaW1wb3J0YW50O1xuICAgIH1cbiAgICAub3RoZXJfbWVzc2FnZSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICNkY2RjZGMgIWltcG9ydGFudDtcbiAgICAgICAgY29sb3I6ICMwMDAgIWltcG9ydGFudDtcbiAgICB9XG4gICAgLnRpbWUge1xuICAgICAgICBjb2xvcjogI2FmYWZhZjtcbiAgICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgICBmb250LXNpemU6IHNtYWxsO1xuICAgIH1cbiAgICAubWVzc2FnZV9yb3cge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICAgIH1cbn0iXX0= */\"","import { Component, OnInit,AfterViewChecked, ElementRef, ViewChild } from '@angular/core';\nimport { Router , ActivatedRoute, Params } from '@angular/router';\nimport { FormGroup,FormBuilder,Validators,FormControl,FormArray } from '@angular/forms';\nimport { ItemService } from '../../services/item.service';\nimport { AlertController } from '@ionic/angular';\nimport { LoadingController } from '@ionic/angular';\nimport { environment } from '../../../environments/environment';\nimport { HttpClient, HttpHeaders,HttpClientModule } from '@angular/common/http';\nimport { IonContent,ActionSheetController, Platform} from '@ionic/angular';\nimport { Socket } from 'ng-socket-io';\nimport { Observable } from 'rxjs/Observable';  \nimport { DatePipe } from '@angular/common';\nimport { PopoverController } from '@ionic/angular'; \nimport { PopoverComponent } from '../popover/popover.component';\nimport { Network } from '@ionic-native/network/ngx';\n\n\n@Component({\n  selector: 'app-chatroom',\n  templateUrl: './chatroom.page.html',\n  styleUrls: ['./chatroom.page.scss'],\n})\nexport class ChatroomPage implements OnInit{ \n//@ViewChild(IonContent, {read: IonContent}) myContent: IonContent;\n@ViewChild(IonContent) content: IonContent;\n\nmessages = [];\ngruopMessages = [];\nsocket_url : string = \"\";\nteamId = '';\nuserId = '';\nref_code = '';\nloggedInUsername = '';\nnickname = '';\nowner = '';\nmessage = '';\nmessage_wanrings = '';\nmessageDateString:any;\nmsgSent:boolean=false;\ndisableClick:boolean=true;\n\nconstructor(\n  private route: ActivatedRoute, public popoverController: PopoverController,  \n  private http: HttpClient, \n  public itemService: ItemService,\n  public alertController: AlertController,\n  public loadingController: LoadingController,\n  private socket: Socket,\n  private datePipe: DatePipe,\n   private  Network: Network\n) {  \n    Network.onDisconnect().subscribe(() => {\n      this.disableClick=false;\n\n    });\n    Network.onConnect().subscribe(() => {\n        this.disableClick=true;\n    });\n    this.userId = sessionStorage.getItem(\"loggedInId\"); \n    this.loggedInUsername = sessionStorage.getItem(\"loggedInUsername\");\n    this.ref_code = sessionStorage.getItem(\"ref_code\");\n    this.socket_url =   environment.socket_url;\n    this.socket.connect(); \n    this.route.queryParams.subscribe(params => { \n      this.teamId = params['teamId'];\n      this.owner = params['owner'];\n      this.nickname = params['nickname'];   \n    });   \n    this.joinChat(); \n    this.loadMessages();  \n    this.loadMyMessages();  \n    //this.getMessages();  \n} \n\n  async presentPopover(ev: any) { \n      const popover = await this.popoverController.create({\n        component: PopoverComponent,\n        componentProps:{teamId:this.teamId,baseurl: environment.base_url,ref_code:this.ref_code,group_title:this.nickname,owner:this.owner},\n        event: ev,\n        translucent: true\n      });  \n\n      return await popover.present();\n  } \n\n  ionViewWillLeave() {\n    console.log('disconnect');\n    this.socket.removeAllListeners(this.teamId);\n    this.socket.disconnect();\n  }\n\n  ionViewDidLeave() {\n    this.socket.removeAllListeners(this.teamId);\n    console.log('disconnect');\n    this.socket.disconnect();\n  }\n\n  ngOnInit() {   \n    this.getMessages();   \n    this.content.scrollToBottom(0);\n  }\n  \n  ionViewDidEnter(){\n  //  this.ScrollToBottom();\n    this.content.scrollToBottom();\n  }\n\n  joinChat() {   \n    this.socket.emit('set-nickname', {'nickname':this.nickname,'from_id':this.userId,'username':this.loggedInUsername,'to_id':this.teamId});\n  }\n\n  /***************scroll down******************/\n\n  ScrollToBottom(){\n      this.content.scrollToBottom(1500);\n  }\n  /***************scroll down******************/\n\n  getMessages() { \n    console.log('----getMessages---');\n    this.socket.on('getMessage', (data) => { \n      console.log(data); \n      this.content.scrollToBottom(0);\n      let counter = this.gruopMessages.length - 1;\n      if(this.gruopMessages[counter].created_at != data.created_at && this.gruopMessages[counter].username != data.username){\n         this.gruopMessages.push(data);\n      }\n      console.log('lllll',this.gruopMessages);\n    });   \n  } \n\n  async loadMyMessages() { //fetch request get from db\n      this.socket.on('messages', (data) => {  \n      this.gruopMessages = data.messages;  \n    }); \n    console.log(this.gruopMessages);\n  }\n\n  loadMessages() { // Initiate request get from db\n    this.socket.emit('load-messages',{userId: this.userId,teamId: this.teamId} ); \n    console.log(this.gruopMessages);\n  }\n\n  isEmptyOrSpaces(str){\n    return str === null || str.match(/^ *$/) !== null;\n  }\n  async customsmessage(msg) { \n    const loading = await this.loadingController.create({\n      message: msg,\n      duration: 3000,\n      \n      cssClass: 'custom-class custom-loading1',\n      spinner:null\n    });\n    await loading.present();\n    const { role, data } = await loading.onDidDismiss();\n  }\n\n  sendMessage() { \n    if(this.disableClick == false){\n      this.customsmessage(\"No internet connection\")\n     //   alert('Please check connectivity');  \n\n    }\n    if(!this.isEmptyOrSpaces(this.message) && this.disableClick == true){ \n      let created_at = new Date();\n      this.socket.emit('newMessage', { userId: this.userId,teamId: this.teamId,username:this.loggedInUsername,msg: this.message,created_at});\n      this.gruopMessages.push({created_at,from_id:this.userId,userId: this.teamId, from: this.userId,username:this.loggedInUsername,message: this.message});\n      this.message = '';  \n      this.content.scrollToBottom(0);\n      this.ScrollToBottom();\n      this.message_wanrings ='';\n    }\n    else\n    {\n      this.message_wanrings = 'Please enter message';  \n    }\n  }\n \n  timeFormat(date){\n    if(date !='undefined'){      \n        var d= new Date(date);\n        var a = this.datePipe.transform(d,'h:mm a');\n        return a;\n    }\n  }\n\n  dateFormat(date){\n    if(date !='undefined'){      \n        var d= new Date(date);\n        var a = this.datePipe.transform(d,'dd-MM-yyyy');\n         return a;\n    }\n  }\n\n  datemessage(sno,date){\n   console.log(sno--,date);\n   if(date !='undefined'){      \n        var d= new Date(date);\n        var a = this.datePipe.transform(d,'dd-MM-yyyy');\n         return a;\n    }\n  }\n\n  private isDifferentDay(messageIndex: number): boolean {\n      if (messageIndex === 0) return true;\n      const d1 = new Date(this.gruopMessages[messageIndex - 1].created_at);\n      const d2 = new Date(this.gruopMessages[messageIndex].created_at);\n      return d1.getFullYear() !== d2.getFullYear()\n        || d1.getMonth() !== d2.getMonth()\n        || d1.getDate() !== d2.getDate();\n  }\n\n  private getMessageDate(messageIndex: number): string {\n     const wholeDate = new Date(this.gruopMessages[messageIndex].created_at).toDateString();\n     this.messageDateString = wholeDate.slice(0, wholeDate.length - 5);\n        if(this.messageDateString !='Invalid'){      \n         //console.log( this.messageDateString);\n             return this.messageDateString;\n        }\n  }\n\n}"],"sourceRoot":""}