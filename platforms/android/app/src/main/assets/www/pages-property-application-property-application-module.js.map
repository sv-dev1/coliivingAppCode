{"version":3,"sources":["webpack:///./src/app/pages/property-application/property-application.module.ts","webpack:///./src/app/pages/property-application/property-application.page.html","webpack:///./src/app/pages/property-application/property-application.page.scss","webpack:///./src/app/pages/property-application/property-application.page.ts"],"names":[],"mappings":"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","file":"pages-property-application-property-application-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PropertyApplicationPage } from './property-application.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PropertyApplicationPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PropertyApplicationPage]\n})\nexport class PropertyApplicationPageModule {}\n","module.exports = \"\\n<ion-header>\\n   <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n         <ion-menu-button></ion-menu-button>\\n      </ion-buttons>\\n      <ion-buttons slot=\\\"end\\\">\\n         <ion-back-button defaultHref=\\\"dashboard\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title>\\n            Invitations to property\\n      </ion-title>\\n   </ion-toolbar>\\n</ion-header>\\n<ion-content padding>\\n    <ion-card>\\n      <ion-card-content>\\n         <ion-list>\\n            <ion-item   *ngFor=\\\"let property of requestArr\\\">\\n               <ion-icon name=\\\"git-merge\\\" style=\\\"height:20px;\\\" > </ion-icon>\\n                  <ion-label style=\\\"font-size:14px;\\\">{{property?.property['name']}}</ion-label>\\n                  <ion-buttons [routerLink]=\\\"['/prop-info']\\\" [queryParams]=\\\"{propertyId: property?.propertyId}\\\"slot=\\\"end\\\">\\n                  Info...\\n                  </ion-buttons>                  \\n                  <ion-buttons slot=\\\"end\\\" (click) =\\\"onChange('Approved',property.propertyId)\\\" ><ion-icon name=\\\"checkmark-circle-outline\\\" ></ion-icon>  </ion-buttons>\\n                  <ion-buttons slot=\\\"end\\\" (click) =\\\"onChange('Declined',property.propertyId)\\\"> <ion-icon name=\\\"close-circle-outline\\\" ></ion-icon></ion-buttons>\\n            </ion-item>\\n            <ion-item *ngIf=\\\"noProperty\\\"><h1>No Property Invitation</h1></ion-item>\\n        </ion-list>\\n      </ion-card-content>\\n   </ion-card>\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Byb3BlcnR5LWFwcGxpY2F0aW9uL3Byb3BlcnR5LWFwcGxpY2F0aW9uLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router , ActivatedRoute, Params } from '@angular/router';\nimport { environment } from '../../../environments/environment';\nimport { HttpClient, HttpHeaders,HttpClientModule } from '@angular/common/http'; \nimport { LoadingController } from '@ionic/angular';\nimport { Platform,NavController,AlertController } from '@ionic/angular'; \n\n@Component({\n  selector: 'app-property-application',\n  templateUrl: './property-application.page.html',\n  styleUrls: ['./property-application.page.scss'],\n})\nexport class PropertyApplicationPage implements OnInit {\n  teamId:any;\n  requestArr:any=[];\n  base_url : string = \"\";\n  submitted:boolean=false;\n  noProperty:boolean=false;\n  constructor(  \n      private route: ActivatedRoute,\n      private http: HttpClient, \n      public loadingController: LoadingController,\n      public alertController: AlertController,\n      ) {\n      this.route.queryParams.subscribe(params => { \n        this.teamId = params['teamId'];\n      });  \n        this.base_url = environment.base_url;\n    }\n\n  ngOnInit() {\n    this.getPropertyListing();\n  }\n\n  propertyInfo(data){\n    console.log(data);\n  }\n\n  async presentLoading() { \n    const loading = await this.loadingController.create({\n      duration: 2000,\n      cssClass: 'custom-class custom-loading',\n      spinner:null\n    });\n    await loading.present();\n    const { role, data } = await loading.onDidDismiss();\n  }\n\n  getPropertyListing(){\n    this.requestArr=[];\n      let token; \n      if(sessionStorage.getItem(\"auth_token\")!=undefined){\n      token = sessionStorage.getItem(\"auth_token\"); \n      }\n      this.presentLoading();\n      const httpOptions = { headers: new HttpHeaders({'authorization': token })};\n      let temp=[];\n\n      let headers = new HttpHeaders();\n      headers = headers.set('Authorization', token);\n      this.http.get(this.base_url+'property/invitation/'+this.teamId, { headers: headers }).subscribe((response: any) => {\n         if(response.requestData=='Request accepted already!!!!!!'){\n             this.noProperty=true;\n         }\n         else{\n           response.requestData.forEach(obj => {\n              if(obj.status == 'Pending'){\n                  if(obj.property !=null){\n                      this.requestArr.push(obj);\n                  }\n              }\n            });\n        }\n      },error=>{ \n       // console.log(\"ERROR\");\n      //console.log(error.error);\n      }); \n  }\n  \n  onChange(info,id){\n    console.log(info,id);\n    this.presentAlertConfirm(info,id);\n      \n  }\n\n  async customsmessage(msg) { \n    const loading = await this.loadingController.create({\n      message: msg,\n      duration: 3000,\n      cssClass: 'custom-class custom-loading1',\n      spinner:null\n    });\n    await loading.present();\n    const { role, data } = await loading.onDidDismiss();\n      this.getPropertyListing();\n\n  }\n\n  async presentAlertConfirm(info,id) {\n      const alert = await this.alertController.create({\n      header: 'Confirmed!',\n      message: 'Are you sure you want to '+ info + ' this property invitation?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n          console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'OK',\n          handler: () => {\n          this.submitted = true; \n      \n                const input_data = \n                { \n                    \"status\" : info,\n                    \"team_id\":this.teamId\n                }   \n                let token; \n                if(sessionStorage.getItem(\"auth_token\")!=undefined){\n                   token = sessionStorage.getItem(\"auth_token\"); \n                }\n                console.log(input_data);\n              //  this.presentLoading();\n                const httpOptions = { headers: new HttpHeaders({'authorization': token })};\n                this.http.post(this.base_url+'/property/status/'+id,input_data,httpOptions).subscribe((response:any) => {\n                 console.log(response);\n                this.customsmessage(\"Updated Succesfully\");\n                },error=>{  \n                   console.log(error.error); \n                });  \n            }\n        }\n       ]\n      });\n      await alert.present();\n  }\n\n}\n"],"sourceRoot":""}